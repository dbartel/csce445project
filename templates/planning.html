<!DOCTYPE html>
<html ng-app="agilApp" lang="en">
<head>
	<title>Sprint Planning</title>
	<base href="/planning">


	<script type="text/javascript" src="{{ url_for('static', filename='lib/angular/angular.min.js') }}"></script>

	<script type="text/javascript" src="{{ url_for('static', filename='lib/lodash/lodash.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/app.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/controllers/planningCtrl.js') }}"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
</head>
<body ng-controller="planningCtrl">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand">Agil</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a>Dashboard</a></li>
                    <li><a href="{{url_for('logout')}}">logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="text-center">
	   <h1>{{project}} planning view</h1>
    </div>
    <div class="col-md-6">
        <div class="current-sprint" ng-show="activeSprintExists">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3>Current Sprint {[sprintName]}</h3>                                           </div>
                <div class="panel-body">
                    <div ng-repeat="issue in currentSprint">
                        {[issue.title]}
                    </div>
                </div>
            </div>
        </div>
        <div ng-hide="activeSprintExists">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3>No existing sprint</h3>
                </div>
                <div class="panel-body">
                <input type="date" ng-model="newSprintDate">
                    <br>
                    <a href ng-click="createNewSprint()">Click here to create a new sprint</a>
                </div>
            </div>
        </div>
    </div>
    <div class="col=md-6">
        <div class="backlog">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3>Project Backlog</h3>
                </div>
                <div class="panel-body">
                    <div ng-repeat="issue in backlog" ng-click="addToSprint(issue)">
                        <div>
                            <strong>{[issue.title]}</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>


</html>